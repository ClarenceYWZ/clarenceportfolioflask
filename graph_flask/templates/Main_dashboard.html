{% extends "layout.html" %}
{% block content %}




<div class ="row">
  <div class="col-xl-12 col-md-12 mb-4">
    <div class="card border-left-primary shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-5">
            <div class= "text-l font-weight-bold text-primary text-uppercase mb-1">Pending Financial Report </div>


          </div>
          <div class="col-auto">
            <i class="fas fa-calendar fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-12 col-md-12 mb-4">
    <div class="card border-left-warning shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-5">
            <div class="text-l font-weight-bold text-primary text-uppercase mb-1">Pending documents upload</div>
                <table class="table table-striped table-hover table-sm  data-sort-class" id="Pending_document_table">
                     <thead>
                        <tr class =thead-dark >
                            <th class="d-none" scope="col" id ="id" value="id" > id</th>
                            <th scope="col" id ="MCST_no" value="MCST_no" > MCST No</th>
                            <th scope="col" id ="Project_name" value="Project_name" > Project Name</th>
                            <th scope="col" id ="pending_items" value="pending_items Year" > Pending items</th>
                            <th scope="col" id ="Created Date" value="Created Date" >Created Date</th>
                            <th scope="col" id ="uplodad_docs" value="Upload Docs" >Upload Docs</th>
                            <th scope="col" id ="Submit_outstanding_docs" value="Submit" ></th>
                            <th  class= "d-none" scope="col" id ="save_path" value="save_path" ></th>
                        </tr>
                     </thead>
                     <tbody id="Pending_document_body">
                        {% for Mcst_pending_item in Mcst_pending_items%}
                        <form method="POST" action="" enctype="multipart/form-data" >
                            <tr>
                                <td class="d-none" scope="row"><input name="item_id" value=" {{ Mcst_pending_item.id }}"> </td>
                                <td  scope="row" name="Mcst_no" ><a href="{{url_for('main.outstanding_docs', outstanding_file = Mcst_pending_item.File_created)}}">{{ Mcst_pending_item.MCST_no}} {{Pending_form.Mcst_no(class="d-none", value = Mcst_pending_item.MCST_no)}}</a></td>
                                <td  scope="row" name="PROPERTY_NAME">{{ Mcst_pending_item.mcst_info.PROPERTY_NAME }}</td>
                                <td  scope="row"><input class="d-none" name="pending_item" value="{{ Mcst_pending_item.item_group  + '_' + Mcst_pending_item.item_content}}">  {{ Mcst_pending_item.item_group }} - {{ Mcst_pending_item.item_content}}</td>
                                <td  scope="row">{{ Mcst_pending_item.created_date }}</td>
                                <td  scope="row">{{Pending_form.File_uploaded(class="form-control-file",accept="image/*;capture=camera") }} </td>
                                <td  scope="row">{{Pending_form.submit(class="btn btn-outline-info submit_btn" ) }} </td>
                                <td class="d-none" name='save_path' scope="row"><input class="d-none" name= "save_path" value = "{{Mcst_pending_item.File_uploaded }}"> </td>
                            </tr>
                        </form>
                        {% endfor %}
                    </tbody>

                  </table>


          </div>
          <div class="col-auto">
            <i class="fas fa-calendar fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="col-xl-12 col-md-12 mb-4">
    <div class="card border-left-info shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-5">
            <div class="text-l font-weight-bold text-primary text-uppercase mb-1">In progress Audit/AGM</div>



          </div>
          <div class="col-auto">
            <i class="fas fa-calendar fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="col-xl-12 col-md-12 mb-4">
      <div class="card border-left-success shadow h-100 py-2">
        <div class="card-body">
          <div class="row no-gutters align-items-center">
            <div class="col mr-5">
              <div class="text-l font-weight-bold text-primary text-uppercase mb-1">Payment outstanding</div>
              <table class="table table-striped table-hover table-sm  data-sort-class d-none" id="Pending_Appointment_table">
                 <thead>
                    <tr class =thead-dark >
                        <th scope="col" id ="MCST_no" value="MCST_no" > MCST No</th>
                        <th scope="col" id ="Project_name" value="Project_name" > Project Name</th>
                        <th scope="col" id ="Financial Year" value="Financial Year" > Financial Year</th>
                        <th scope="col" id ="Managing_Agent" value="Managing_Agent" > Managing Agent</th>
                    </tr>
                 </thead>
                 <tbody id="Pending_Appointment_body" >
<!--                    {% for MCST_project_item in MCST_project_items %}-->

<!--                    <tr>-->
<!--                            <td scope="row" ><a href="{{url_for('mcst.pending_documents', MCST_no = MCST_project_item.__dict__.get('MCST_no'))}}">{{ MCST_project_item.__dict__.get('MCST_no')}}</a></td>-->
<!--                        <td  scope="row">{{ MCST_project_item.__dict__.get('Project_name') }}</td>-->
<!--                        <td class="date" scope="row">{{ MCST_project_item.__dict__.get('Active_FY') }}</td>-->
<!--                        <td  scope="row">{{ MCST_project_item.__dict__.get('MA_name') }}</td>-->
<!--                    </tr>-->
<!--                    {% endfor %}-->
                </tbody>

              </table>

            </div>
            <div class="col-auto">
              <i class="fas fa-calendar fa-2x text-gray-300"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

{% endblock content %}
{% block add_on_js %}
<script>
    $(document).ready(function(){
      $(".form-control").on("keyup", function(event) {
        if (event.keyCode === 13 {
            event.preventDefault();
            $(."form-check-input").click();
        }

        });
    });

</script>
<script>
<!--    $("#Pending_Appointment_table").DataTable({-->
<!--        "paging":   true,-->
<!--        "ordering": true,-->
<!--        "info":     true,-->
<!--        "language": {-->
<!--            "decimal": ".",-->
<!--            "thousands": ","-->
<!--          }-->


<!--      }-->
<!--    );-->

<!--    $("#Pending_document_table").DataTable({-->
<!--        "paging":   true,-->
<!--        "ordering": true,-->
<!--        "info":     true,-->
<!--        "language": {-->
<!--            "decimal": ".",-->
<!--            "thousands": ","-->
<!--          }-->


<!--      }-->
<!--    );-->

<!--    $(function() {-->
<!--      $('.submit_btn').bind('click', function() {-->
<!--        $.getJSON('../upload_file',-->
<!--            function(data) {-->
<!--          //do nothing-->
<!--        });-->
<!--        return false;-->
<!--      });-->
<!--    });-->


</script>



{% endblock add_on_js %}
